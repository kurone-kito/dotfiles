#!/bin/sh
# vim: set ft=sh :

set -u

brew update
brew upgrade
brew upgrade --cask
brew cleanup -s

vagrant plugin update
anyenv update

upgrade_node() {
  VER=$1
  LATEST=$(nodenv install -l | grep -e "^${VER}\." | tail -n 1 | xargs)
  nodenv install -s "${LATEST}"
  nodenv global "${LATEST}"

  npm install -g npm@latest
  npm upgrade -g
  npm install -g yarn@latest
}

upgrade_node 10
upgrade_node 12
upgrade_node 14
upgrade_node 15
